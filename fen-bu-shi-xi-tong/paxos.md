### **背景**

Paxos: 发音 帕克索斯 [https://zh.forvo.com/word/paxos/](https://zh.forvo.com/word/paxos/)

Paxos算法是Lamport于1990年提出的一种基于消息传递的一致性算法。由于算法难以理解起初并没有引起人们的重视，使Lamport在八年后重新发表到TOCS上。即便如此paxos算法还是没有得到重视，2001年Lamport用可读性比较强的叙述性语言给出算法描述。可见Lamport对paxos算法情有独钟。近几年paxos算法的普遍使用也证明它在分布式一致性算法中的重要地位。06年google的三篇论文初现“云”的端倪，其中的chubby锁服务使用paxos作为chubby cell中的一致性算法，paxos的人气从此一路狂飙。

### Paxos算法是什么

Paxos 算法解决的问题是一个分布式系统如何就某个值（决议）达成一致。一个典型的场景是，在一个分布式数据库系统中，如果各节点的初始状态一致，每个节点都执行相同的操作序列，那么他们最后能得到一个一致的状态。为保证每个节点执行相同的命令序列，需要在每一条指令上执行一个“一致性算法”以保证每个节点看到的指令一致，是分布式计算中的重要问题。

### Paxos的两个原则

#### 安全原则---保证不能做错的事

1.只能有一个值被批准，不能出现第二个值把第一个覆盖的情况。

2.每个节点只能学习到已经被批准的值，不能学习没有被批准的值。

#### 存活原则---只要有多数服务器存活并且彼此间可以通信最终都要做到的事

1.最终会批准某个被提议的值。

2.一个值被批准了，其他服务器最终会学习到这个值。这个原则能够保证的话就没有了活锁的问题。

### Paxos的两个组件

#### Proposer

提议发起者，处理客户端请求，将客户端的请求发送到集群中，以便决定这个值是否可以被批准。

#### Acceptor

提议批准者，负责处理接收到的提议，他们的回复就是一次投票。会存储一些状态来决定是否接收一个值。

![](/assets/Paxos.png)

### reference

* [http://chuansong.me/n/1050231](http://chuansong.me/n/1050231)
* [https://medium.com/coinmonks/paxos-made-simple-3b83c05aac37](https://medium.com/coinmonks/paxos-made-simple-3b83c05aac37)



